<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> 
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">


<div class="container mt-3">
    <div class="row" [formGroup]="ClientForm">
        <div class="col-md-3">
        <label>Centre</label>
        <select class="form-control"  formControlName="ddlCenter">
            <option value="">~Please Choose~</option>
            <option *ngFor="let item of centerApiResponse" [value]="item.centerCode">{{item.centerName}}</option>
        </select>
        </div>
        <div class="col-md-3">
            <label>Search By Client Name/Type</label>
            <input class="form-control" type="text" name="SeachBy" placeholder="Search by Dr.Name or client type..." formControlName="SeachDrNameOrMobileNumber"/>
         </div>
            <div class="col-md-2">
        <label>Client Status</label>
        <select class="form-control"  formControlName="ddlClientStatus">
            <option value="">~Please Choose~</option>
            <option value="true">Active</option>
            <option value="false">InActive</option>
        </select>
        </div>
         <div class="col-md-4">
            <div class="div-button">
            <button mat-flat-button class="search-button" (click)="onSearch()"><mat-icon>search</mat-icon>Search Client</button>
            <button mat-flat-button class="add-button" (click)="OpenAddClientMasterPopUp()">
              <mat-icon>add</mat-icon> Add New Client</button> 
          </div>
        </div>
    </div>
    <br/>
    <div class="row" [formGroup]="searchClientForm" *ngIf="IsRecordFound">
    <div class="col-md-3"></div>
    <div class="col-md-3"></div>
    <div class="col-md-3"></div>
    <div class="col-md-3">
      <div class="form-group">
        <input class="form-control" formControlName="filterClients" placeholder="Search..." />
      </div>
    </div>
    </div> 
    <br/>
    <div *ngIf="IsNoRecordFound" calss="row tbl-div">
                <br/>
                <div class="form-group form-control NoRecord-Found">
                  No client found!.
                </div>
                <br/>
   </div>
  <table class="table table-bordered table-striped" *ngIf="IsRecordFound">
  <thead>
    <tr>
      <th>Client Type</th>
      <th>Client Name</th>
      <th>Center Name</th>
      <th>Speciality</th>
      <th>Mobile Number</th>
      <th>LicenseNumber</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let item of clientApiResponse | paginate: { itemsPerPage: itemsPerPage, currentPage: p }; let i = index">
      <td>{{ item.clientType }}</td>
      <td>{{ item.clientName }}</td>
      <td>{{ item.centerName }}</td>
      <td>{{ item.speciality }}</td>
      <td>{{ item.mobileNumber }}</td>
      <td>{{ item.licenseNumber }}</td>
      <td>
        <button class="action-btn edit-button" matTooltip="edit client details" (click)="ViewClientDetails(item.clientId)">
          <mat-icon class="edit-icon">edit</mat-icon>
        </button>
        <button class="action-btn delete-button" matTooltip="delete client" (click)="clientDeleteConfirmationDialog(item.clientId)">
          <mat-icon class="delete-icon">delete</mat-icon>
        </button>
      </td>
    </tr>
  </tbody>
</table> 
<pagination-controls *ngIf="IsRecordFound" (pageChange)="p = $event"></pagination-controls>
</div>
<app-loader *ngIf="loading$ | async"></app-loader>


