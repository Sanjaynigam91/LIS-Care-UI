<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> 
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<div class="container mt-3">
  <div class="row" [formGroup]="searchForm">
  <div class="col-md-3">
    <button class="add-button" (click)="OpenAddRolePopUp()">
        <mat-icon>badge</mat-icon> Add New Role</button> 
  </div>
  <div class="col-md-3"></div>
  <div class="col-md-3"></div>
  <div class="col-md-3">
    <div class="form-group">
      <input class="form-control" formControlName="filterTerm" placeholder="Search..." />
    </div>
  </div>
  </div> 
  <br/>
  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>Sr.No.</th>
        <th (click)="sortTable('roleCode')">Role Code
          <span *ngIf="sortColumn === 'roleCode'">
            <i class="bi bi-caret-up" *ngIf="sortDirection === 'asc'"></i>
            <i class="bi bi-caret-down" *ngIf="sortDirection === 'desc'"></i>
          </span>
        </th>
        <th (click)="sortTable('roleName')">Role Name
          <span *ngIf="sortColumn === 'roleName'">
            <i class="bi bi-caret-up" *ngIf="sortDirection === 'asc'"></i>
            <i class="bi bi-caret-down" *ngIf="sortDirection === 'desc'"></i>
          </span>
        </th>
        <th (click)="sortTable('roleType')">Role Type
          <span *ngIf="sortColumn === 'roleType'">
            <i class="bi bi-caret-up" *ngIf="sortDirection === 'asc'"></i>
            <i class="bi bi-caret-down" *ngIf="sortDirection === 'desc'"></i>
          </span>
        </th>
        <th (click)="sortTable('department')">Department
          <span *ngIf="sortColumn === 'department'">
            <i class="bi bi-caret-up" *ngIf="sortDirection === 'asc'"></i>
            <i class="bi bi-caret-down" *ngIf="sortDirection === 'desc'"></i>
          </span>
        </th>
        <th (click)="sortTable('roleStatus')">Status
          <span *ngIf="sortColumn === 'roleStatus'">
            <i class="bi bi-caret-up" *ngIf="sortDirection === 'asc'"></i>
            <i class="bi bi-caret-down" *ngIf="sortDirection === 'desc'"></i>
          </span>
        </th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of lisRoles | paginate: { itemsPerPage: itemsPerPage, currentPage: p }; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ item.roleCode }}</td>
        <td>{{ item.roleName }}</td>
        <td>{{ item.roleType }}</td>
        <td>{{ item.department }}</td>
        <td>{{ item.roleStatus }}</td>
        <td>  
          <button class="edit-button" matTooltip="edit role" (click)="ViewEditRole(item.roleId)">
          <mat-icon class="edit-icon">edit</mat-icon>
        </button>
        <button class="delete-button" matTooltip="delete role" (click)="openConfirmationDialog(item.roleId)">
          <mat-icon class="delete-icon">delete</mat-icon>
        </button>
      </td>
      </tr>
    </tbody>
  </table> 
  <pagination-controls (pageChange)="p = $event"></pagination-controls>
</div>
<app-loader *ngIf="loading$ | async"></app-loader>
 